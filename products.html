<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nos Produits - DS Lab</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    
    <style>
        /* --- 3D WHEEL STYLES --- */
        body {
            overflow-x: hidden; /* Prevent horizontal scroll from 3D elements */
        }

        .brand-section {
            padding: 80px 0;
            overflow: hidden;
            background: #f8f9fa;
            position: relative;
        }

        .brand-header {
            text-align: center;
            margin-bottom: 60px;
            position: relative;
            z-index: 10;
        }

        /* The 3D Scene Container */
        .wheel-scene {
            width: 100%;
            height: 500px; /* Adjust based on card height */
            perspective: 1000px; /* How "deep" the 3D effect looks */
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            /* Mask the sides for a cleaner look */
            mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
            -webkit-mask-image: linear-gradient(to right, transparent, black 15%, black 85%, transparent);
        }

        /* The Rotating Cylinder */
        .wheel {
            width: 300px; /* Card Width */
            height: 450px; /* Card Height */
            position: relative;
            transform-style: preserve-3d; /* Crucial for 3D */
            cursor: grab;
        }

        .wheel:active {
            cursor: grabbing;
        }

        /* Individual Cards */
        .wheel-card {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            /* Backface visibility: hidden makes items disappear when behind the wheel
               Remove this line if you want to see the back of the wheel semi-transparent */
            backface-visibility: hidden; 
            border: 1px solid rgba(0,0,0,0.05);
            user-select: none; /* Prevent text highlighting while dragging */
        }

        .wheel-card img {
            width: 100%;
            height: 220px;
            object-fit: contain;
            background: #fff;
            padding: 20px;
            pointer-events: none; /* Crucial for smooth dragging */
        }

        .card-content {
            padding: 20px;
            text-align: center;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-content h3 {
            margin: 0 0 5px;
            color: #333;
            font-size: 1.2rem;
        }
        
        .card-content h4 {
            margin: 0 0 10px;
            color: #007bff;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .card-content p {
            font-size: 0.85rem;
            color: #666;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .btn-mini {
            margin-top: 15px;
            padding: 10px 20px;
            background: #333;
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-size: 0.8rem;
            display: inline-block;
            transition: 0.3s;
        }
        .btn-mini:hover {
            background: #007bff;
        }

    </style>
</head>
<body>

    <section id="sensa-core" class="brand-section">
        <div class="container">
            <div class="brand-header">
                <img src="logo.png" alt="Sensa Core" style="height: 50px; margin-bottom: 10px;">
                <h2>Sensa Core</h2>
                <p>Glissez pour faire tourner la roue</p>
            </div>

            <div class="wheel-scene">
                <div class="wheel" data-brand="sensa">
                    
                    <div class="wheel-card">
                        <img src="https://img.medicalexpo.fr/images_me/photo-mg/115734-12399917.jpg">
                        <div class="card-content">
                            <h3>ST-100B</h3>
                            <h4>Analyseur Électrolyte</h4>
                            <p>Compact, économique et facile à utiliser avec une excellente précision.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>

                    <div class="wheel-card">
                        <img src="https://cdn.medzell.net/assets/media/manufacturer/products/images/st-200-aqua-electrolyte-analyzer.jpeg">
                        <div class="card-content">
                            <h3>ST-200 Aqua</h3>
                            <h4>Système Aqua</h4>
                            <p>Système de gestion des fluides avancé pour une précision améliorée.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>

                    <div class="wheel-card">
                        <img src="https://www.sensacore.com/images/0479ecc298506a923ed9acf2346d1057.png">
                        <div class="card-content">
                            <h3>ST-200cc Smart</h3>
                            <h4>Gaz de Sang</h4>
                            <p>Acquiert 28 résultats différents. Écran tactile intuitif.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>

                    <div class="wheel-card">
                        <img src="https://img.medicalexpo.fr/images_me/photo-mg/115734-12399917.jpg">
                        <div class="card-content">
                            <h3>ST-100B (Copy)</h3>
                            <h4>Analyseur Électrolyte</h4>
                            <p>Compact, économique et facile à utiliser.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>
                     <div class="wheel-card">
                        <img src="https://cdn.medzell.net/assets/media/manufacturer/products/images/st-200-aqua-electrolyte-analyzer.jpeg">
                        <div class="card-content">
                            <h3>ST-200 Aqua (Copy)</h3>
                            <h4>Système Aqua</h4>
                            <p>Système de gestion des fluides avancé.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

    <section id="dymind" class="brand-section">
        <div class="container">
            <div class="brand-header">
                <img src="Dymind.png" alt="Dymind" style="height: 50px; margin-bottom: 10px;">
                <h2>Dymind</h2>
                <p>Glissez pour faire tourner la roue</p>
            </div>
            <div class="wheel-scene">
                <div class="wheel" data-brand="dymind">
                    <div class="wheel-card">
                        <img src="https://www.red-dot.org/fileadmin/_processed_/7/c/csm_36-02667-2021-3_ec5efff37c.jpg">
                        <div class="card-content">
                            <h3>DH-615</h3>
                            <h4>Hématologie 5 Parties</h4>
                            <p>Analyseur entièrement automatisé, 60 tests/heure.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>
                     <div class="wheel-card">
                        <img src="https://www.dymind.com/manage/userfiles/system/images/dh76_750x750_compressed.jpg">
                        <div class="card-content">
                            <h3>DH-76</h3>
                            <h4>Compact</h4>
                            <p>Idéal pour les petits laboratoires et cliniques.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>
                     <div class="wheel-card">
                        <img src="https://www.dymind.com/manage/userfiles/system/images/xq_kk750x750.png">
                        <div class="card-content">
                            <h3>CA-1200</h3>
                            <h4>Coagulation</h4>
                            <p>Tests de coagulation précis et fiables.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>
                     <div class="wheel-card">
                        <img src="https://i.postimg.cc/zGCJsxNg/DF55-removebg-preview.png">
                        <div class="card-content">
                            <h3>DF-55</h3>
                            <h4>Économique</h4>
                            <p>Solution fiable et économique pour PME.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>
                    <div class="wheel-card">
                        <img src="https://www.red-dot.org/fileadmin/_processed_/7/c/csm_36-02667-2021-3_ec5efff37c.jpg">
                        <div class="card-content">
                            <h3>DH-615 (Copy)</h3>
                            <h4>Hématologie 5 Parties</h4>
                            <p>Analyseur entièrement automatisé, 60 tests/heure.</p>
                            <a href="#contact" class="btn-mini">Devis</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/Draggable.min.js"></script>

    <script>
        gsap.registerPlugin(Draggable);

        // Select all wheels
        const wheels = document.querySelectorAll('.wheel');

        wheels.forEach((wheel) => {
            const cards = wheel.querySelectorAll('.wheel-card');
            const numCards = cards.length;
            const theta = 360 / numCards; // Angle between cards
            // Calculate radius to push cards out so they don't overlap
            // Formula: (CardWidth / 2) / tan( theta / 2 )
            // We add a little gap (70px) for spacing
            const radius = Math.round((300 / 2) / Math.tan(Math.PI / numCards)) + 70; 

            // 1. POSITION CARDS IN 3D SPACE
            cards.forEach((card, i) => {
                gsap.set(card, {
                    rotationY: i * theta,
                    z: radius,
                    transformOrigin: `50% 50% -${radius}px` // Pivot point is center of circle
                });
            });

            // 2. SETUP AUTO-SPIN
            // We rotate the wheel container negatively to spin right-to-left
            const autoSpin = gsap.to(wheel, {
                rotationY: "-=360",
                duration: 20, // Seconds for one full rotation
                ease: "none",
                repeat: -1
            });

            // 3. SETUP DRAGGABLE (Interaction)
            // We create a proxy object to calculate drag values without messing up the CSS transforms directly immediately
            const proxy = document.createElement("div"); 
            
            Draggable.create(proxy, {
                trigger: wheel, // User touches the wheel
                type: "x",      // Drag horizontally
                inertia: true,  // Momentum (Standard Draggable Momentum)
                
                onPress: function() {
                    // Stop auto-spin when user touches
                    autoSpin.pause();
                    // Sync proxy to current wheel rotation
                    // We map X pixels to Degrees. 1px drag = 0.5 degree rotation
                    gsap.set(proxy, { x: gsap.getProperty(wheel, "rotationY") / 0.5 });
                },
                
                onDrag: function() {
                    // Apply rotation based on drag
                    const rot = this.x * 0.5;
                    gsap.set(wheel, { rotationY: rot });
                },

                onRelease: function() {
                    // Optional: Resume auto-spin after a delay if the user stops interacting
                    // Note: If you want momentum to finish first, this logic gets complex. 
                    // Simple version: Wait 2 seconds, then resume.
                    gsap.delayedCall(2, () => {
                         // Only resume if user hasn't grabbed it again
                        if(!this.isPressed) {
                            // Resume smoothly
                            let currentRot = gsap.getProperty(wheel, "rotationY");
                            // Determine closest 360 multiple to continue seamlessly
                            let remainder = currentRot % 360;
                            
                            // Resume animation
                            autoSpin.resume();
                        }
                    });
                },
                
                // Native snapping/momentum (Standard Draggable feature)
                snap: {
                     x: function(endValue) {
                         // Optional: Snap to closest card?
                         // For free spin, remove this snap block.
                         // For card snapping: return Math.round(endValue / (theta/0.5)) * (theta/0.5);
                         return endValue; 
                     }
                }
            });
        });

    </script>
</body>
</html>
